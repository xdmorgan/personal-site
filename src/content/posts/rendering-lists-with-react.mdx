---
title: 'Designing a Reusable React List Component'
date: 2020-03-24
category: Tutorials
status: draft
tags: React, Components
lede: 'A simple, reusable, and design-agnostic component designed for rendering arbitrary collections of data'
theme:
  header: '#273167'
image:
  src: './rendering-lists-with-react/header.jpg'
  alt: 'Three shelves of books organized by their cover colors'
  attribution:
    text: 'Photo by Jason Leung on Unsplash'
    link: 'https://unsplash.com/photos/D4YrzSwyIEc'
---

<highlight>

**Background:** This post discusses React Hooks and JavaScript Array methods (i.e. `map()`, `filter()`, and `reduce()`). For more information on either topic, check out these great resources:

- **React**: Kent Dodd's [The Beginner's Guide to React](https://egghead.io/courses/the-beginner-s-guide-to-react) (free)
- **Array methods**: Will Sentance's [Hard Parts: Functional Programming](https://frontendmasters.com/workshops/hard-parts-functional-js/) (requires [Frontend Masters](https://frontendmasters.com/) subscription)

</highlight>

## Starting Point

```jsx
import React from "react";

const List = ({ children }) => <ul>{children}</ul>;
const Item = ({ children, ...props }) => (
  <li>
    <label>
      <input type="checkbox" {...props} /> {children}
    </label>
  </li>
);

List.Item = Item;
export { List };
```

```jsx
// 01-starting-point.js
import React from "react";
import { List } from "./list";

export default function Demo() {
  return (
    <div>
      <h1>Daily objectives</h1>
      <List>
        <List.Item checked>Write blog post</List.Item>
        <List.Item checked>Make some coffee</List.Item>
        <List.Item checked={false}>Profit</List.Item>
      </List>
    </div>
  );
}
```

```jsx
// 02-array-map.js
import React from "react";
import { List } from "./list";

export default function Demo({ items = [] }) {
  return (
    <div>
      <h1>Daily objectives</h1>
      <List>
        {items.map(item => (
          <List.Item key={item.id} checked={item.complete}>
            {item.title}
          </List.Item>
        ))}
      </List>
    </div>
  );
}
```

## New Challenger Approaches

```jsx
import React from "react";

export const ListView = ({ items = [], render = () => {} }) => (
  <>{items.map(render)}</>
);
```

```jsx
import { ListView } from './list-view'
import { List } from './list'

const App = ({ items = [] }) => (
  <div>
    <h1>Daily objectives</h1>
    <List>
      <ListView
        items={items}
        render={(item, idx) => (
          <List.Item 
            key={item.id}
            checked={item.complete}
          >
            {item.description}
          </List.Item>
        )}
      />
    </List>
  </div>
)
```


```jsx
// list-view.js
export const ListView = ({ 
  items = [], 
  render = () => {}, 
  container: Container = React.Fragment 
}) => (
  <Container>
    {array.map(render)}
  </Container>
)
```

```jsx
// app.js
import { ListView } from './list-view'
import { List } from './list'

const App = ({ items = [] }) => (
  <div>
    <h1>Daily objectives</h1>
    <ListView
      items={items}
      container={List}
      render={(item, idx) => (
        <List.Item 
          key={item.id}
          checked={item.complete}
        >
          {item.description}
        </List.Item>
      )}
    />
  </div>
)
```

## Adding to the API

```jsx
export const ListView = ({ 
  items = [], 
  render = () => {}, 
  as: Wrapper = React.Fragment,
  container: Container = React.Fragment,
  before = null,
  after =  null
}) => (
  <Wrapper>
    {before ? before() : null}
    <Container>
      {array.map(render)}
    </Container>
    {after ? after() : null}
  </Wrapper>
)
```
```jsx
import { ListView } from './list-view'
import { List } from './list'

// app.js
const App = ({ items = [] }) => (
  <ListView
    as="div"
    items={items}
    container={List}
    before={() => (
      <header>
        <h1>Daily objectives</h1>
      </header>
    )}
    render={(item, idx) => (
      <List.Item 
        key={item.id}
        checked={item.complete}
      >
        {item.description}
      </List.Item>
    )}
    after={() => (
      <footer>
        Complete: {items.filter(item => item.complete).length}
      </footer>
    )}
  />
)
```

## Composition

### Sorting

### Pagination
Coming soon